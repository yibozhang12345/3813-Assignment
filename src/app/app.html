<nav class="nav">
  <div class="brand">3813ICT–Phase 1</div> <!-- 左上角标题 -->

  <!-- 已登录时的导航 -->
  <ul class="menu" *ngIf="auth.isLoggedIn(); else guest">
    <li><a routerLink="/plaza" routerLinkActive="active">plaza</a></li>
    <li><a routerLink="/chat" routerLinkActive="active">chat</a></li>
    <li><a routerLink="/notifications" routerLinkActive="active">notifications</a></li>
    <li><a routerLink="/profile" routerLinkActive="active">profile</a></li>
    <!-- 若需要显示管理入口（仅示例，实际可加 *ngIf 控制权限） -->
<li><a routerLink="/admin/users" routerLinkActive="active">Users Admin</a></li>
<li><a routerLink="/admin/groups" routerLinkActive="active">Groups Admin</a></li>
    <li class="spacer"></li>
    <li class="user">
      <span>
        {{ auth.displayName() }}
        <!-- 当前用户角色显示（super/groupAdmin/user） -->
        <small class="role">({{ auth.currentUser()?.roles?.join(', ') || 'user' }})</small>
      </span>
    </li>
    <li><button class="link" (click)="logout()">logout</button></li>
  </ul>

  <!-- 未登录时的导航 -->
  <ng-template #guest>
    <ul class="menu">
      <li><a routerLink="/login" routerLinkActive="active">login</a></li>
      <li><a routerLink="/register" routerLinkActive="active">register</a></li>
    </ul>
  </ng-template>
</nav>

<!-- 路由出口，显示各个页面 -->
<main>
  <router-outlet></router-outlet>
</main>
