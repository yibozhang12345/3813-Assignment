<h2>Edit Product</h2>

<div *ngIf="loading">Loading...</div>
<div *ngIf="error" style="color:#b91c1c">{{ error }}</div>

<form *ngIf="!loading && model" (ngSubmit)="submit()" #f="ngForm" style="max-width:480px">
  <div style="margin:8px 0">
    <label>ID (immutable for demo)</label><br />
    <input type="number" [ngModel]="model.id" name="id" disabled />
  </div>

  <div style="margin:8px 0">
    <label>Name</label><br />
    <input type="text" [(ngModel)]="model.name" name="name" required />
  </div>

  <div style="margin:8px 0">
    <label>Description</label><br />
    <textarea [(ngModel)]="model.description" name="description" rows="3"></textarea>
  </div>

  <div style="margin:8px 0">
    <label>Price</label><br />
    <input type="number" step="0.01" [(ngModel)]="model.price" name="price" />
  </div>

  <div style="margin:8px 0">
    <label>Units</label><br />
    <input type="number" [(ngModel)]="model.units" name="units" />
  </div>

  <button [disabled]="saving">{{ saving ? 'Saving...' : 'Save' }}</button>
  <a routerLink="/products" style="margin-left:8px">Cancel</a>
</form>
